# Главная форма

[section\_header](#section_header)

[section\_bonuses](#section_bonuses)

[section\_search-btn](#section_search-btn)

[section\_symptoms](#section_symptoms)

[section\_ads-banners](#section_ads-banners)

[section\_collection](#section_collection)

[section\_tab-bar](#heading=)

[Логика главной формы](#heading=)

[Доступные действия пользователя](#heading=)

[Обработка ошибок](#heading=)

# **section\_header** {#section_header}

[Figma](https://www.figma.com/design/nLDpIUh4gksHkJxWpdx5Jq/AI-Boost?node-id=170-3706&t=49dFYTLraNZ5W90k-4)

## **Поведение**

Отображается всем пользователям. При неавторизованном пользователе — отображается блок с CTA “Войти / Зарегистрироваться”.  
При авторизованном пользователе — отображаются аватар, уведомления, блок заказов.  
Секция инициирует отображение других секций через входной параметр isAuthorized.

## **Входные параметры**

id: string: идентификатор пользователя  
avatarUrl: string: URL изображения аватара  
deliveryAddress.street: string: улица доставки  
deliveryAddress.house: string: дом доставки  
deliveryDate: date: дата доставки  
hasUnreadNotifications: boolean: наличие непрочитанных уведомлений

## **Состояния**

Актуализация, Не авторизован, Доступен (авторизован)

## **Действия и методы**

\- Тап по аватару → \`Открыть хедер\`  
\- Тап по иконке уведомлений → \`Открыть уведомления\`  
\- Тап по блоку доставки → \`Открыть доставки\`  
\- Тап по кнопке “Войти / Зарегистрироваться” → \`Авторизоваться\`

## **Обработка ошибок**

Ошибка получения состояния авторизации — секция переходит в состояние 'Не авторизован'.  
Ошибка сети — отображается общий error state главного экрана.

# **section\_bonuses** {#section_bonuses}

[Figma](https://www.figma.com/design/nLDpIUh4gksHkJxWpdx5Jq/AI-Boost?node-id=193-4876&t=49dFYTLraNZ5W90k-4)

## **Входные параметры**

bonusAmount: number \- общее количество бонусов  
bonusExpirationDate \- date: дата ближайшего сгорания  
bonusExpirationTotal \- number: количество бонусов к сгоранию  
qrCodeUrl: string \- URL QR-кода  
isAuthorized: boolean \- признак авторизации пользователя

## **Поведение**

Отображается только авторизованным пользователям. Использует кэшированные данные бонусного счёта. Авторизованному пользователю отображаются количество баллов и QR-код. Если заданы bonusExpirationTotal и bonusExpirationDate, то отображаются количество сгорающих бонусов и дата сгорания.

## **Состояния**

Не отображается, Доступен, Доступен (ноль)

## **Действия и методы**

\- Тап по блоку бонусов → \`Смотреть бонусы\` (если есть бонусы)

## **Обработка ошибок**

Ошибка получения бонусов или QR-кода — отображается 0 бонусов, QR-код скрыт.  
Ошибка сети — отображается информационный блок без бонусов и QR.

# **section\_search-btn** {#section_search-btn}

[Figma](https://www.figma.com/design/nLDpIUh4gksHkJxWpdx5Jq/AI-Boost?node-id=11-3371&t=49dFYTLraNZ5W90k-4)

## **Поведение**

Отображается всем пользователям. Поиск работает как кнопка, по тапу открывается модальный экран с активной строкой и клавиатурой.

## **Входные параметры**

Нет

## **Состояния**

Доступен

## **Действия и методы**

\- Тап по строке поиска → \`Открыть поиск\`

## **Обработка ошибок**

Ошибка отправки запроса — отображается сообщение об ошибке поиска.

# **section\_symptoms** {#section_symptoms}

[Figma](https://www.figma.com/design/nLDpIUh4gksHkJxWpdx5Jq/AI-Boost?node-id=24-3576&t=49dFYTLraNZ5W90k-4)

## **Поведение**

Отображается всем пользователям. 

Если ни один чипс не пришел, секция не отображается.

Использует переданный массив тэгов и отображает только первые maxVisible.

## **Входные параметры**

tags: Array\<{ id, name, iconName, linkToCategory }\>  
maxVisible?: number \- максимальное количество отображаемых тэгов  
scroll: boolean \- если true, то горизонтальный скролл и тэги отображаются двумя строками, если false \- все тэги отображаются в кучу

## **Состояния**

Доступен

## **Действия и методы**

\- Тап по тэгу симптома → \`Перейти\` в категорию каталога по ссылке linkToCategory

## **Особенности UX / UI**

Сортировка сохраняет порядок входного массива. Иконка используется по имени iconName.

## **Обработка ошибок**

Ошибка загрузки массива тэгов — секция не отображается.

# **section\_ads-banners** {#section_ads-banners}

[Figma](https://www.figma.com/design/nLDpIUh4gksHkJxWpdx5Jq/AI-Boost?node-id=5-3285&t=49dFYTLraNZ5W90k-4)

## **Входные параметры**

* \- \`image.url\` (string): URL изображения баннера  
* \- \`promo\_token\` (string): идентификатор промо-акции  
* \- \`url\` (string): ссылка перехода

banners: Array\<{ id, name, imageUrl, url }\>, autoScroll?: boolean, scrollInterval?: number

## **Поведение**

Горизонтальный слайдер с баннерами. Поддерживает автопрокрутку и обработку переходов по ссылкам. Количество баннеров определяется количеством элементов массива banners.

Последний баннер циклически переходит к первому.

## **Состояния**

Доступен

## **Действия и методы**

\- Тап по баннеру → переход по ссылке  
\- Свайп влево → \`SwipeLeft\`  
\- Свайп вправо → \`SwipeRight\`  
\- Автоматическая прокрутка → \`AutoScrollNext\`

## **Обработка ошибок**

Ошибка загрузки баннеров — секция не отображается

# **section\_collection** {#section_collection}

[Figma](https://www.figma.com/design/nLDpIUh4gksHkJxWpdx5Jq/AI-Boost?node-id=3-3432&t=49dFYTLraNZ5W90k-4)

## **Поведение**

Отображает активные категории с иконками, цветом и названием. Поддерживает ограничение maxVisible.

## **Входные параметры**

* \- \`name\` (string): имя категории  
* \- \`iconMobile\` (string): URL иконки  
* \- \`colorMobile\` (string): цвет фона  
* \- \`active\` (boolean): флаг отображения

categories: Array\<Category\>, maxVisible?: number

## **Состояния**

Доступен

## **Действия и методы**

\- Тап по категории без подкатегорий → \`Перейти\`  
\- Тап по категории с подкатегориями → \`Перейти в подкатегории\`

## **Особенности UX / UI**

Название категории отображается максимум в две строки.

## **Обработка ошибок**

Отсутствие входных данных — секция не отображается

# **section\_tab-bar**

[Figma](https://www.figma.com/design/nLDpIUh4gksHkJxWpdx5Jq/AI-Boost?node-id=1-16378&t=49dFYTLraNZ5W90k-4)

## **Поведение**

Основная навигация по разделам. Отображает кнопки "Каталог", "Избранное", "Корзина", "Главная".

## **Входные параметры**

isAuthorized: boolean \- признак авторизации пользователя  
 cartCount: number \- количество товаров в корзине  
activeTab: number \- код активного таба

## **Состояния**

Доступен

## **Действия и методы**

\- Тап на “Каталог” → \`Перейти в каталог\`  
\- Тап на “Избранное” (авторизован) → \`Перейти к избранному\`  
\- Тап на “Избранное” (неавторизован) → BS \`Регистрация\`  
\- Тап на “Корзина” → \`Перейти в корзину\`

## **Особенности UX / UI**

Бейдж счётчика корзины отображается при cartCount \> 0\. Активный пункт выделен визуально.

## **Секция: Меню — подвал**

\- Ошибка получения счётчика корзины — счётчик скрыт.

# **Логика главной формы**

1\. section\_header отображается первым. Его состояние определяет авторизацию пользователя.  
2\. section\_bonuses отображается только если пользователь авторизован.  
3\. Остальные секции отображаются всегда (section\_search-btn, section\_symptoms, section\_ads-banners, section\_collection, section\_tab-bar).  
4\. После авторизации повторно активируются секции, зависящие от авторизации.

